<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–õ–∏—á–Ω—ã–π AI-–¥–∏–∑–∞–π–Ω–µ—Ä</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #f5f5f5;
    }
    h1 {
      text-align: center;
    }
    #styles {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-bottom: 20px;
    }
    #styles button {
      padding: 10px 15px;
      border: none;
      cursor: pointer;
      background: #ddd;
      border-radius: 5px;
      font-weight: bold;
    }
    #styles button.active {
      background: #4cafef;
      color: white;
    }
    #result img {
      margin-top: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }
    form {
      text-align: center;
    }
    textarea {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      border-radius: 5px;
      border: 1px solid #ccc;
      margin-bottom: 10px;
    }
    button[type="submit"] {
      padding: 10px 20px;
      background: #4cafef;
      color: white;
      border: none;
      border-radius: 5px;
      font-size: 16px;
    }
  </style>
</head>
<body>
  <h1>üé® –õ–∏—á–Ω—ã–π AI-–¥–∏–∑–∞–π–Ω–µ—Ä</h1>

  <div id="styles">
    <button onclick="selectStyle('luxury')">üíé –†–µ–∫–ª–∞–º–Ω–∞—è —Ä–æ—Å–∫–æ—à—å</button>
    <button onclick="selectStyle('film90s')">üìº –ü–ª—ë–Ω–æ—á–Ω–∞—è –Ω–æ—Å—Ç–∞–ª—å–≥–∏—è</button>
    <button onclick="selectStyle('seamist')">üåä –ú–æ—Ä—Å–∫–∞—è –º–∏—Å—Ç–∏–∫–∞</button>
    <button onclick="selectStyle('cinematicportrait')">üé¨ –ö–∏–Ω–æ–¥—Ä–∞–º–∞</button>
    <button onclick="selectStyle('neoncity')">üåÜ –ù–µ–æ–Ω–æ–≤—ã–µ –≥–æ—Ä–æ–¥–∞</button>
  </div>

  <form id="generateForm">
    <textarea id="prompt" placeholder="–í–≤–µ–¥–∏—Ç–µ, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–æ–∑–¥–∞—Ç—å..."></textarea>
    <br>
    <button type="submit">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
  </form>

  <div id="result"></div>

  <script>
    const styles = {
      "luxury": "ultra realistic cinematic product photography, luxury jewelry and perfume on glossy surface with dramatic lighting and deep shadows, rich gold and black palette, premium magazine style, depth of field, 8k detail",
      "film90s": "film photography, soft grain texture, 1990s street fashion, vintage cars, natural candid moments, warm muted tones, shallow depth of field, golden hour light, analog retro aesthetic",
      "seamist": "cinematic seascape with rocky beach and misty mountains, dramatic clouds, gentle sea breeze, soft sunlight breaking through, emotional atmosphere, high detail, 8k ultra realistic",
      "cinematicportrait": "emotional cinematic portrait, natural window light, dramatic shadows, storytelling composition, shallow depth of field, muted colors, realistic skin texture, high detail",
      "neoncity": "neon-lit city street at night, wet asphalt reflecting lights, stylish model in glossy fashion outfit, cinematic composition, cyberpunk mood, sharp focus, high detail"
    };

    let selectedStyle = "";

    function selectStyle(styleKey) {
      selectedStyle = styles[styleKey];
      document.querySelectorAll('#styles button').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
    }

    document.getElementById('generateForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const prompt = document.getElementById('prompt').value;
      
      const res = await fetch('/generate', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ prompt, style: selectedStyle })
      });
      
      const data = await res.json();
      
      if (data.image) {
        document.getElementById('result').innerHTML = `<img src="${data.image}" style="max-width:100%">`;
      } else {
        alert("–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏");
      }
    });
  </script>
</body>
</html>
